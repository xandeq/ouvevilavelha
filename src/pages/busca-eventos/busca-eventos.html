<ion-header>
    <ion-toolbar>
        <button class="botaoesquerda" menuToggle start left>
            <ion-icon name="menu" class="iconemenu"></ion-icon>
        </button>
        <ion-title center text-center>
            <img src="assets/imgs/logonovabranca.png" style="width: 20%" />
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content padding>
  <h2 class="text-center">LOGIN/CONSULTA</h2>
  <h3 class="text-center"> de Eventos</h3>
  <ion-row>
    <ion-col col-12>
      <ion-label>Número do Protocolo:</ion-label>
    </ion-col>
    <ion-col col-12 class="bold">
      <ion-input type="text" name="txtprotocolo" id="txtprotocolo" [(ngModel)]="protocolo" placeholder="Exemplo: EDVT238908902343890" value="{{varProtocolo}}"></ion-input>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-12>
      <ion-label>Senha:</ion-label>
    </ion-col>
    <ion-col col-12 class="bold">
      <ion-input type="text" name="txtsenha" id="txtsenha" [(ngModel)]="senha" type="password" value="{{varSenha}}"></ion-input>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-12>
      <button text-center large ion-button icon-start name="btnBuscar" id="btnBuscar" (click)='ConsultarEvento(protocolo, senha);'>
        <ion-icon name="search"></ion-icon>
        Consultar
      </button>
    </ion-col>
  </ion-row>
  <div class="row" *ngIf="show" style="padding: 5px; background-color: lightgray; margin-top: 10px">
    <div class="col-md-12">
      <h2 style="color: #d9534f; text-align: center">RESULTADO</h2>
      <ion-row>
        <ion-col col-6>
          Código:
          <ion-col col-6 class="bold">{{buscaId}}</ion-col>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          NOME: </ion-col>
        <ion-col col-6 class="bold">{{buscaNome}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          PROTOCOLO: </ion-col>
        <ion-col col-6 class="bold">{{buscaProtocolo}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          DESCRIÇÃO:
        </ion-col>
        <ion-col col-6 class="bold">
          {{buscaDescricao}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          Situação: </ion-col>
        <ion-col col-6 class="bold">{{buscaSituacao}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          Tipo de Evento: </ion-col>
        <ion-col col-6 class="bold">{{buscaTipoEvento}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          Data de Criação: </ion-col>
        <ion-col col-6 class="bold">{{buscaDataCriacao | date: 'dd/MM/yyyy H:mm'}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          Assunto: </ion-col>
        <ion-col col-6 class="bold">{{buscaAssunto}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          Rua: </ion-col>
        <ion-col col-6 class="bold">{{buscaRua}}
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6>
          Bairro: </ion-col>
        <ion-col col-6 class="bold">{{buscaBairro}}
        </ion-col>
      </ion-row>
    </div>
  </div>
  <div class="row" *ngIf="show2">
    <div class="col-md-12">
      <h2>Evento não encontrado.</h2>
    </div>
  </div>
  <fieldset *ngIf="showAcompanhamentos" style="margin-top: 10px; background-color: lightgray">
    <legend style="font-weight: bold; text-align: center; background-color: lightgray; padding: 3px; color: #d9534f">ACOMPANHAMENTOS</legend>
    <div class="row header" style="border-bottom: solid 1px gray">
      <div class="col bold center">Descrição</div>
      <div class="col bold center">Data Criação</div>
    </div>
    <div class="row" *ngFor="let ac of lista_acompanhamentos" style="border-bottom: solid 1px gray">
      <div class="col">
        <div [innerHtml]="ac.descricao" item-right></div>
      </div>
      <div class="col">
        <ion-datetime displayFormat="DD/MM/YYYY HH:mm" [(ngModel)]="ac.created"></ion-datetime>
      </div>
    </div>
  </fieldset>
</ion-content>
